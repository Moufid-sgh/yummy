

import { Link, useLocation } from "react-router-dom"
import { useEffect, useState, Suspense } from "react"
import { lazy } from 'react'
const SearchBar = lazy(() => import('../../components/SearchBar'))


const Menu = () => {

    const location = useLocation()

    //get user name
    const [name, setName] = useState('')

    useEffect(() => {
        const userName = localStorage.getItem('name')
        setName(userName)
    }, [])


    return (
        <div className="hidden lg:flex items-center w-[200px]">
            <Link to="/compte">
                <svg className={`${location.pathname === "/compte" && "text-orange"} cursor-pointer hover:text-orange duration-300`} width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M15.1773 18.8996H13.536V14.9493C13.5353 14.3352 13.2795 13.7464 12.8246 13.3122C12.3696 12.8779 11.7528 12.6337 11.1094 12.6331H4.47384C3.83047 12.6337 3.21364 12.8779 2.75871 13.3122C2.30377 13.7464 2.04791 14.3352 2.04726 14.9493V18.8996H0.406006V14.9493C0.407309 13.9199 0.836302 12.933 1.59889 12.2051C2.36147 11.4771 3.39538 11.0676 4.47384 11.0664H11.1094C12.1879 11.0676 13.2218 11.4771 13.9844 12.2051C14.747 12.933 15.1759 13.9199 15.1773 14.9493V18.8996Z" />
                    <path fill="currentColor" d="M7.79163 9.50047C6.8178 9.50047 5.86584 9.22482 5.05614 8.70839C4.24643 8.19195 3.61534 7.45792 3.24268 6.59912C2.87001 5.74032 2.7725 4.79532 2.96249 3.88362C3.15247 2.97192 3.62141 2.13447 4.31001 1.47717C4.99861 0.81987 5.87594 0.372244 6.83105 0.190896C7.78616 0.00954782 8.77617 0.102622 9.67586 0.45835C10.5756 0.814077 11.3445 1.41648 11.8856 2.18938C12.4266 2.96228 12.7154 3.87097 12.7154 4.80053C12.7141 6.04665 12.1949 7.24138 11.2718 8.12252C10.3487 9.00366 9.09709 9.49923 7.79163 9.50047ZM7.79163 1.66724C7.14241 1.66724 6.50777 1.851 5.96797 2.19529C5.42816 2.53958 5.00744 3.02894 4.75899 3.60147C4.51055 4.17401 4.44554 4.80401 4.5722 5.41181C4.69886 6.01961 5.01148 6.57791 5.47055 7.0161C5.92961 7.4543 6.5145 7.75272 7.15124 7.87362C7.78799 7.99452 8.44799 7.93247 9.04778 7.69532C9.64758 7.45817 10.1602 7.05656 10.5209 6.5413C10.8816 6.02603 11.0741 5.42024 11.0741 4.80053C11.0741 3.96953 10.7283 3.17256 10.1127 2.58496C9.49712 1.99735 8.6622 1.66724 7.79163 1.66724Z" />
                </svg>
            </Link>

            <p className={`${location.pathname === '/compte' ? 'w-full duration-500 delay-300 transition-all mr-2 opacity-100 pointer-events-auto' : 'w-0 opacity-0 pointer-events-none duration-300 transition-all'} text-orange whitespace-nowrap`}>مرحبا، {name}</p>

            <Link to="/notifications">
                <svg className={`${location.pathname === "/notifications" && "text-orange"} mr-6 cursor-pointer hover:text-orange duration-300`} width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M15.2764 9.67454L13.9307 4.83293C13.5363 3.41453 12.679 2.16869 11.4953 1.29342C10.3115 0.418145 8.86912 -0.0363165 7.39741 0.00226912C5.92571 0.0408548 4.50912 0.570273 3.37284 1.50637C2.23656 2.44247 1.44579 3.73153 1.12622 5.16864L0.0843826 9.85373C-0.0306975 10.3714 -0.0280368 10.9083 0.0921682 11.4249C0.212373 11.9414 0.447053 12.4243 0.778882 12.838C1.11071 13.2517 1.53121 13.5855 2.00935 13.8149C2.48748 14.0444 3.01104 14.1635 3.54136 14.1634H4.33035C4.49291 14.964 4.92722 15.6837 5.5597 16.2006C6.19217 16.7176 6.98392 17 7.80079 17C8.61766 17 9.4094 16.7176 10.0419 16.2006C10.6744 15.6837 11.1087 14.964 11.2712 14.1634H11.8647C12.4107 14.1635 12.9492 14.0373 13.4383 13.7948C13.9274 13.5522 14.3538 13.1999 14.6842 12.7653C15.0145 12.3306 15.24 11.8255 15.3428 11.2894C15.4457 10.7532 15.4225 10.2006 15.2764 9.67454ZM7.80079 15.5799C7.36291 15.5781 6.93628 15.4411 6.57927 15.1875C6.22226 14.934 5.95231 14.5763 5.80635 14.1634H9.79523C9.64927 14.5763 9.37932 14.934 9.02231 15.1875C8.6653 15.4411 8.23867 15.5781 7.80079 15.5799ZM13.556 11.9077C13.3587 12.1695 13.103 12.3817 12.8093 12.5274C12.5155 12.673 12.1919 12.7482 11.864 12.7469H3.54136C3.2232 12.7469 2.90912 12.6754 2.62229 12.5377C2.33546 12.4 2.08322 12.1997 1.88417 11.9515C1.68512 11.7033 1.54435 11.4136 1.47225 11.1037C1.40015 10.7938 1.39856 10.4717 1.4676 10.1611L2.50873 5.47531C2.7597 4.3465 3.38081 3.33398 4.27331 2.59871C5.16581 1.86343 6.27849 1.4476 7.43446 1.41732C8.59044 1.38704 9.72336 1.74404 10.6531 2.43158C11.5829 3.11911 12.2562 4.09772 12.5659 5.21184L13.9116 10.0535C14.0005 10.3689 14.0147 10.7007 13.9529 11.0226C13.8912 11.3444 13.7553 11.6475 13.556 11.9077Z" />
                </svg>
            </Link>

            <p className={`${location.pathname === '/notifications' ? 'w-full duration-500 delay-300 transition-all mr-2 opacity-100 pointer-events-auto' : 'w-0 opacity-0 pointer-events-none duration-300 transition-all'} text-orange whitespace-nowrap`}>إشعاراتي</p>

            <Link to="/MyRecipes">
                <svg className={`${location.pathname === "/MyRecipes" && "text-orange"} mr-6 cursor-pointer hover:text-orange duration-300`} width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M13.8524 0C12.9613 0.0141142 12.0897 0.26742 11.3255 0.734338C10.5612 1.20126 9.93157 1.86525 9.5 2.65927C9.06843 1.86525 8.43875 1.20126 7.67455 0.734338C6.91035 0.26742 6.03869 0.0141142 5.14759 0C3.72707 0.062848 2.38872 0.695644 1.42492 1.76014C0.461119 2.82464 -0.0497832 4.2343 0.00383099 5.68117C0.00383099 9.34531 3.79122 13.3471 6.96769 16.0604C7.67691 16.6673 8.57361 17 9.5 17C10.4264 17 11.3231 16.6673 12.0323 16.0604C15.2088 13.3471 18.9962 9.34531 18.9962 5.68117C19.0498 4.2343 18.5389 2.82464 17.5751 1.76014C16.6113 0.695644 15.2729 0.062848 13.8524 0ZM11.0154 14.8274C10.5913 15.1912 10.0545 15.3906 9.5 15.3906C8.94546 15.3906 8.40875 15.1912 7.98457 14.8274C3.91863 11.3535 1.58653 8.02052 1.58653 5.68117C1.53243 4.66155 1.87645 3.66151 2.54355 2.89917C3.21066 2.13682 4.14672 1.67401 5.14759 1.61168C6.14846 1.67401 7.08452 2.13682 7.75163 2.89917C8.41873 3.66151 8.76275 4.66155 8.70865 5.68117C8.70865 5.89489 8.79203 6.09985 8.94043 6.25098C9.08884 6.4021 9.29012 6.487 9.5 6.487C9.70988 6.487 9.91116 6.4021 10.0596 6.25098C10.208 6.09985 10.2913 5.89489 10.2913 5.68117C10.2373 4.66155 10.5813 3.66151 11.2484 2.89917C11.9155 2.13682 12.8515 1.67401 13.8524 1.61168C14.8533 1.67401 15.7893 2.13682 16.4564 2.89917C17.1236 3.66151 17.4676 4.66155 17.4135 5.68117C17.4135 8.02052 15.0814 11.3535 11.0154 14.8242V14.8274Z" />
                </svg>
            </Link>

            <p className={`${location.pathname === '/MyRecipes' ? 'w-full duration-500 delay-300 transition-all mr-2 opacity-100 pointer-events-auto' : 'w-0 opacity-0 pointer-events-none duration-300 transition-all'} text-orange whitespace-nowrap`}>الموندو متاعي</p>

            <Suspense fallback={<svg className="animate-spin mr-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#FF7900" d="M13.75 3.748a1.75 1.75 0 1 0-3.5 0a1.75 1.75 0 0 0 3.5 0m4.616 2.946a.75.75 0 1 0-1.06-1.06a.75.75 0 0 0 1.06 1.06M21.148 12a.895.895 0 1 1-1.79 0a.895.895 0 0 1 1.79 0M17.1 18.571a1.04 1.04 0 1 0 1.471-1.47a1.04 1.04 0 0 0-1.47 1.47M12 19.067a1.185 1.185 0 1 1 0 2.37a1.185 1.185 0 0 1 0-2.37m-4.894-.291a1.33 1.33 0 1 0-1.88-1.88a1.33 1.33 0 0 0 1.88 1.88M5.224 12a1.475 1.475 0 1 1-2.95 0a1.475 1.475 0 0 1 2.95 0M5.02 7.31a1.62 1.62 0 1 0 2.291-2.292a1.62 1.62 0 0 0-2.29 2.292" /></svg> }>
                <SearchBar />
            </Suspense>

        </div>
    )
}

export default Menu